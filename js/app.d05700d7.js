(function(){"use strict";var e={8016:function(e,t,o){var l=o(9242),s=o(4677),r=(o(343),o(3396)),a=o(4870);const n=e=>((0,r.dD)("data-v-3633fad6"),e=e(),(0,r.Cn)(),e),i={class:"w-screen h-screen bg-black opacity-50 top-0 left-0 z-10 fixed flex items-center justify-center"},c=n((()=>(0,r._)("div",{class:"loading"},null,-1))),d=[c];function u(e,t){return(0,r.wg)(),(0,r.iD)("div",i,d)}var p=o(89);const m={},g=(0,p.Z)(m,[["render",u],["__scopeId","data-v-3633fad6"]]);var w=g,v={setup(e){const t=(0,a.iH)(!1),o=e=>{t.value=e};return(0,r.JJ)("controlLoading",o),(e,o)=>{const l=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(l),t.value?((0,r.wg)(),(0,r.j4)(w,{key:0})):(0,r.kq)("",!0)],64)}}};const f=v;var h=f,b=o(678),x=o.p+"img/img.b74fc2f8.svg",k="data:image/png;base64,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",y=o(7139),U={required(e){return""!==e&&void 0!==e&&null!==e},name(e){return/[a-zA-Z0-9]{1,12}$/.test(e)},password(e){return/[a-zA-Z0-9]{8,16}$/.test(e)},email(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)}},A={required:"這是必填",name:"用戶名稱有誤",email:"格式有誤",password:"格式有誤"},S=o(4301),C=(0,S.Q_)("vaildate",{state:()=>({validateList:[],errorFlag:!1}),actions:{updateValidateList(e){this.validateList=e},updateErrorFlag(e){this.errorFlag=e},resetVaild(){this.errorFlag=!1,this.validateList=[]}}}),D=o(6265),B=o.n(D);const I=(0,s.pm)(),E=B().create({});E.interceptors.request.use((e=>{console.log("config",e);const t=e.data?.params;return t?(Object.keys(t).forEach((e=>{t[e]||delete t[e]})),e):e}),(e=>e)),E.interceptors.response.use((e=>(console.log("response",e.status),e.data)),(e=>{const t=e.response?.data.message?.message;return t&&I.error(t),Promise.reject(e)}));var j=E;const V="https://warm-stream-37441.herokuapp.com",K=()=>{const e=localStorage.getItem("token");return{authorization:`Bearer ${e}`}},_=()=>{const e=localStorage.getItem("token");return{"Content-Type":"multipart/form-data",authorization:`Bearer ${e}`}},J=e=>{const t=K();return j.get(V+e,{headers:t})},F=(e,t={})=>{const o=K();return j.post(V+e,t,{headers:o})},M=(e,t={})=>{const o=K();return j.patch(V+e,t,{headers:o})},W=(e,t={})=>{const o=_();return j.post(V+e,t,{headers:o})};var q=(0,S.Q_)("user",{state:()=>({user:{}}),persist:!0,actions:{updateUser(e){this.user=e},async getUser(){try{const e=await J("/users/profile"),{name:t,avatar:o,gender:l,_id:s}=e.user;console.log("user",e.user),this.user.name=t,this.user.avatar=o,this.user.gender=l,this.user._id=s}catch(A){console.log("error",A)}}}}),Y=(0,S.Q_)("room",{state:()=>({room:{}}),persist:!0,actions:{updateRoom(e){this.room=e}}});const O={class:"border-2 my-2 w-[373px] h-[51px] flex items-center bg-white border-black p-4"},Q=["maxlength","value","placeholder","type"],H={key:0,class:"text-red text-left"};var L={props:{validId:{type:String,required:!0},modelValue:null,vaildField:{type:Array,required:!0},type:{type:String,default:"text"},placeholder:{type:String},maxLength:{type:Number,default:30}},emits:["change"],setup(e,{emit:t}){const o=e,l=C(),{validateList:s,errorFlag:n}=(0,S.Jk)(l),i=(0,a.iH)(null),{validId:c,modelValue:d,vaildField:u}=(0,a.BK)(o),p=()=>{for(const e of u.value){console.log("vaild",e);const t=U[e];if(console.log("rule",t(d.value)),!t(d.value))return m(),void(i.value=e)}i.value=null,l.updateValidateList([])};(0,r.YP)(d,(e=>{p()})),(0,r.YP)(n,(e=>{n.value&&p()}));const m=()=>{const e=new Set([...s.value,c.value]);l.updateValidateList([...e])},g=e=>{t("update:modelValue",e.target.value)};return(0,r.bv)((()=>{})),(t,o)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",O,[(0,r._)("input",{maxlength:e.maxLength,value:(0,a.SU)(d),onInput:g,class:"w-full h-7 text-gray-400",placeholder:e.placeholder,type:e.type},null,40,Q)]),(0,a.SU)(n)?((0,r.wg)(),(0,r.iD)("p",H,(0,y.zw)((0,a.SU)(A)[i.value]),1)):(0,r.kq)("",!0)],64))}};const R=L;var P=R;const T={class:"text-center"},Z=["onClick"];var z={emits:["setComp"],setup(e,{emit:t}){const o=C(),s=q(),{validateList:n}=(0,S.Jk)(o),i=(0,b.tv)(),c=()=>{t("setComp",1)},d=(0,a.qj)({email:"",password:""}),u=async()=>{if(0===n.value.length)try{const e=await F("/users/sign-in",d),{status:t,user:{token:o,name:l}}=e;"success"===t&&(localStorage.setItem("token",o),s.updateUser({name:l})),i.push("/")}catch(A){console.log("error",A)}else o.updateErrorFlag(!0)};return(0,r.Jd)((()=>{o.resetVaild()})),(e,t)=>((0,r.wg)(),(0,r.iD)("div",T,[(0,r.Wm)(P,{modelValue:(0,a.SU)(d).email,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,a.SU)(d).email=e),modelModifiers:{trim:!0},vaildField:["required","email"],validId:"email",placeholder:"Email"},null,8,["modelValue"]),(0,r.Wm)(P,{modelValue:(0,a.SU)(d).password,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,a.SU)(d).password=e),modelModifiers:{trim:!0},vaildField:["required","password"],validId:"password",type:"password",placeholder:"Password"},null,8,["modelValue"]),(0,r._)("button",{onClick:u,class:"mt-6 w-[374px] h-[54px] button block"}," 登入 "),(0,r._)("a",{class:"text-black pt-3 block cursor-pointer",onClick:(0,l.iM)(c,["prevent"])},"註冊帳號",8,Z)]))}};const G=z;var N=G;const X={class:"text-center"},$=["onClick"];var ee={emits:["setComp"],setup(e,{emit:t}){const o=C(),s=q(),{validateList:n}=(0,S.Jk)(o),i=(0,b.tv)(),c=()=>{t("setComp",0)},d=(0,a.qj)({name:"",email:"",password:""}),u=async()=>{if(0===n.value.length)try{const e=await F("/users/sign-up",d),{status:t,user:{token:o,name:l}}=e;"success"===t&&(localStorage.setItem("token",o),s.updateUser({name:l})),i.push("/")}catch(A){console.log("error",A)}else o.updateErrorFlag(!0)};return(0,r.Jd)((()=>{o.resetVaild()})),(e,t)=>((0,r.wg)(),(0,r.iD)("div",X,[(0,r.Wm)(P,{modelValue:(0,a.SU)(d).name,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,a.SU)(d).name=e),modelModifiers:{trim:!0},vaildField:["required","name"],validId:"name",placeholder:"暱稱"},null,8,["modelValue"]),(0,r.Wm)(P,{modelValue:(0,a.SU)(d).email,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,a.SU)(d).email=e),modelModifiers:{trim:!0},vaildField:["required","email"],validId:"email",placeholder:"Email"},null,8,["modelValue"]),(0,r.Wm)(P,{modelValue:(0,a.SU)(d).password,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,a.SU)(d).password=e),modelModifiers:{trim:!0},vaildField:["required","password"],validId:"password",type:"password",placeholder:"Password"},null,8,["modelValue"]),(0,r._)("button",{onClick:u,class:"mt-6 w-[374px] h-[54px] button block"}," 註冊 "),(0,r._)("a",{class:"text-black pt-3 block cursor-pointer",onClick:(0,l.iM)(c,["prevent"])},"登入",8,$)]))}};const te=ee;var oe=te;const le={class:"w-[869px] h-[539px] fixed top-0 right-0 bottom-0 left-0 m-auto p-12 border-2 flex items-center bg-[#EFECE7] shadow-light"},se=(0,r._)("img",{src:x,alt:""},null,-1),re={class:"flex flex-col items-center pl-6"},ae=(0,r._)("img",{src:k,alt:""},null,-1),ne=(0,r._)("p",{class:"font-bold text-2xl pb-6"},"到元宇宙展開全新社交圈",-1);var ie={setup(e){const t=(0,a.iH)(0),o=e=>{t.value=e};return(e,l)=>((0,r.wg)(),(0,r.iD)("section",le,[se,(0,r._)("div",re,[ae,ne,0===t.value?((0,r.wg)(),(0,r.j4)(N,{key:0,onSetComp:o})):((0,r.wg)(),(0,r.j4)(oe,{key:1,onSetComp:o}))])]))}};const ce=ie;var de=ce,ue=o(5743),pe=o.n(ue);const me={class:"box-rounded w-full smw-[533px] min-h-[133px] p-6 mb-6"},ge={class:"flex"},we=["src"],ve={class:"pl-3"},fe={class:"text-base text-bold"},he={class:"text-gray text-xs"},be={class:"py-2"},xe=["src"];var ke={props:{postData:{type:Object,default:()=>{}}},setup(e){const t=e=>pe()(e).format("YYYY/MM/DD HH:mm");return(o,l)=>((0,r.wg)(),(0,r.iD)("div",me,[(0,r._)("div",ge,[(0,r._)("img",{class:"avatar w-[50px] h-[50px]",src:e.postData.user?.avatar,alt:""},null,8,we),(0,r._)("div",ve,[(0,r._)("p",fe,(0,y.zw)(e.postData.user?.name),1),(0,r._)("p",he,(0,y.zw)(t(e.postData.createdAt)),1)])]),(0,r._)("p",be,(0,y.zw)(e.postData.content),1),e.postData.cover?((0,r.wg)(),(0,r.iD)("img",{key:0,class:"border-2 rounded-lg overflow-hidden",src:e.postData.cover,alt:""},null,8,xe)):(0,r.kq)("",!0)]))}};const ye=ke;var Ue=ye;const Ae={class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Se=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1),Ce=[Se];function De(e,t){return(0,r.wg)(),(0,r.iD)("svg",Ae,Ce)}const Be={},Ie=(0,p.Z)(Be,[["render",De]]);var Ee=Ie;const je={class:"pl-2 border-2 flex mt-4 md:mt-0 justify-between border-black w-full md:w-[356px] h-[46px] mb-4"},Ve=["value"];var Ke={props:{modelValue:null},setup(e){const t=(0,r.f3)("fetchData"),o=(0,r.f3)("updateKeyword"),l=(0,r.f3)("searchData");return(e,s)=>((0,r.wg)(),(0,r.iD)("div",je,[(0,r._)("input",{value:(0,a.SU)(l).keyword,onChange:s[0]||(s[0]=(...e)=>(0,a.SU)(o)&&(0,a.SU)(o)(...e)),class:"block w-100% md:w-[280px]",type:"text",placeholder:"搜尋貼文"},null,40,Ve),(0,r._)("button",{onClick:s[1]||(s[1]=(...e)=>(0,a.SU)(t)&&(0,a.SU)(t)(...e)),class:"bg-primary text-white w-[46px] h-full border-l-2 border-black flex items-center justify-center"},[(0,r.Wm)(Ee)])]))}};const _e=Ke;var Je=_e;const Fe=["value"],Me=["value"];var We={props:{option:{type:Array,default:()=>[]},modelValue:null},emits:["change"],setup(e,{emit:t}){const o=e=>{t("update:modelValue",e.target.value)};return(t,l)=>((0,r.wg)(),(0,r.iD)("select",{value:e.modelValue,onChange:o,class:"border-2 pl-2 w-full md:w-[156px] h-[46px]",name:"",id:""},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.option,(e=>((0,r.wg)(),(0,r.iD)("option",{value:e.key,key:e.key},(0,y.zw)(e.content),9,Me)))),128))],40,Fe))}};const qe=We;var Ye=qe,Oe=o(1373),Qe=(0,Oe.Z)();const He={class:"mb-4 pr-4 border-2 rounded-md flex items-center justify-between border-l-none bg-white h-[80px] relative before:-z-10 before:w-full before:h-full before:bg-white before:content-[''] before:border-2 before:absolute before:-bottom-1.5 before:-left-1.5 before:rounded-md"},Le=(0,r._)("img",{class:"rounded-l-sm border-r-2 w-[76px] h-[76px]",src:"https://fakeimg.pl/200/"},null,-1),Re=(0,r._)("div",{class:"pl-4 flex-1"},[(0,r._)("p",null,"阿阿"),(0,r._)("p",null,"8777人追蹤")],-1),Pe=(0,r._)("button",{class:"button text-black bg-[#EFECE7] w-32 h-9"},"取消追蹤",-1);var Te={setup(e){const t=Y(),o=(0,a.iH)(!1),l=async()=>{if(o.value)return;const e={receiver:"628c3a476e56188da0aec6c7"};try{o.value=!0;const l=await F("/chat/room-info",e),{status:s,roomId:r,name:a,avatar:n,_id:i}=l;"success"===s&&(console.log("res",l),t.updateRoom({roomId:r,name:a,avatar:n,receiver:i}),Qe.emit("handleRoom",!0))}catch(A){console.log("error",A)}finally{o.value=!1}};return(e,t)=>((0,r.wg)(),(0,r.iD)("div",He,[Le,Re,(0,r._)("button",{onClick:l,class:"button text-black bg-[#EFECE7] w-32 h-9 mr-2"}," 發送訊息 "),Pe]))}};const Ze=Te;var ze=Ze;const Ge={class:"box-rounded h-[132px] mt-4"},Ne=(0,r.uE)('<ul class="h-[42px] flex items-center pl-4 border-b-2"><li class="dot bg-[#DE4B63]"></li><li class="dot bg-[#FAA722]"></li><li class="dot bg-[#83C51D]"></li></ul><p class="text-gray pt-8 pl-4">目前尚無動態，新增一則貼文吧！</p>',2),Xe=[Ne];function $e(e,t){return(0,r.wg)(),(0,r.iD)("div",Ge,Xe)}const et={},tt=(0,p.Z)(et,[["render",$e]]);var ot=tt;const lt={class:"md:flex justify-between"};var st={setup(e){const t=(0,r.f3)("controlLoading"),o=(0,a.qj)([]),l=[{key:"desc",content:"從新到舊"},{key:"asc",content:"舊到最新"}],s=(0,a.qj)({keyword:"",sort:"desc"}),n=e=>{s.keyword=e.target.value},i=async()=>{t(!0);let e=`/?timeSort=${s.sort}`;s.keyword&&(e+=`&keyword=${s.keyword}`);try{const t=await J("/posts",e),{status:l,posts:s}=t;o.length=0,"success"===l&&Object.assign(o,s)}catch(A){console.log("error",A)}t(!1)};return(0,r.YP)((()=>s.sort),((e,t)=>{i()})),(0,r.JJ)("updateKeyword",n),(0,r.JJ)("searchData",s),(0,r.JJ)("fetchData",i),(0,r.bv)((()=>{i()})),(e,t)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(ze),(0,r._)("div",lt,[(0,r.Wm)(Ye,{modelValue:(0,a.SU)(s).sort,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,a.SU)(s).sort=e),option:l},null,8,["modelValue"]),(0,r.Wm)(Je)]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,a.SU)(o),(e=>((0,r.wg)(),(0,r.j4)(Ue,{key:e._id,postData:e},null,8,["postData"])))),128)),0===(0,a.SU)(o).length?((0,r.wg)(),(0,r.j4)(ot,{key:0})):(0,r.kq)("",!0)],64))}};const rt=st;var at=rt;const nt={class:"bg-white border-b-2 p-4"},it={class:"md:w-[869px] mx-auto flex justify-between items-center"},ct=(0,r.Uk)("MetaWall"),dt={class:"flex items-center"},ut=["src"],pt={class:"text-bold font-logo pl-2"};var mt={setup(e){const t=q(),{user:o}=(0,S.Jk)(t);return console.log("name",o.value.name),(e,t)=>{const l=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("header",nt,[(0,r._)("div",it,[(0,r.Wm)(l,{class:"text-[26px] block font-logo",to:"/"},{default:(0,r.w5)((()=>[ct])),_:1}),(0,r._)("div",dt,[(0,r._)("img",{class:"avatar w-[30px] h-[30px]",src:(0,a.SU)(o).avatar,alt:""},null,8,ut),(0,r._)("span",pt,(0,y.zw)((0,a.SU)(o).name),1)])])])}}};const gt=mt;var wt=gt;const vt={class:"h-6 w-6",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},ft=(0,r._)("path",{stroke:"none",d:"M0 0h24v24H0z"},null,-1),ht=(0,r.Uk)(),bt=(0,r._)("path",{d:"M10 5a2 2 0 0 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6"},null,-1),xt=(0,r.Uk)(),kt=(0,r._)("path",{d:"M9 17v1a3 3 0 0 0 6 0v-1"},null,-1),yt=[ft,ht,bt,xt,kt];function Ut(e,t){return(0,r.wg)(),(0,r.iD)("svg",vt,yt)}const At={},St=(0,p.Z)(At,[["render",Ut]]);var Ct=St;const Dt={class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Bt=(0,r._)("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"},null,-1),It=[Bt];function Et(e,t){return(0,r.wg)(),(0,r.iD)("svg",Dt,It)}const jt={},Vt=(0,p.Z)(jt,[["render",Et]]);var Kt=Vt;const _t={class:"h-6 w-6",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Jt=(0,r._)("path",{stroke:"none",d:"M0 0h24v24H0z"},null,-1),Ft=(0,r._)("line",{x1:"10",y1:"14",x2:"21",y2:"3"},null,-1),Mt=(0,r._)("path",{d:"M21 3L14.5 21a.55 .55 0 0 1 -1 0L10 14L3 10.5a.55 .55 0 0 1 0 -1L21 3"},null,-1),Wt=[Jt,Ft,Mt];function qt(e,t){return(0,r.wg)(),(0,r.iD)("svg",_t,Wt)}const Yt={},Ot=(0,p.Z)(Yt,[["render",qt]]);var Qt=Ot;const Ht={class:"box w-[309px] p-8"},Lt={class:"button w-[261px] h-[54px]"},Rt=(0,r.Uk)(" 張貼動態 "),Pt={class:"pt-4"},Tt={class:"pb-4"},Zt=["src"],zt={class:"pl-4 text-bold"},Gt={class:"pb-4"},Nt={class:"w-[50px] h-[50px] border-2 flex items-center justify-center bg-sky rounded-full"},Xt=(0,r._)("span",{class:"pl-4 text-bold"},"追蹤名單",-1),$t={class:"pb-4"},eo={class:"w-[50px] h-[50px] border-2 flex items-center justify-center bg-sky rounded-full"},to=(0,r._)("span",{class:"pl-4 text-bold"},"我按讚的文章",-1),oo={class:""},lo={class:"w-[50px] h-[50px] border-2 flex items-center justify-center bg-sky rounded-full"},so=(0,r._)("span",{class:"pl-4 text-bold"},"聊天室",-1);var ro={setup(e){const t=q(),{user:o}=(0,S.Jk)(t);return(e,t)=>{const l=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",Ht,[(0,r._)("button",Lt,[(0,r.Wm)(l,{class:"block w-full",to:"/postadd"},{default:(0,r.w5)((()=>[Rt])),_:1})]),(0,r._)("ul",Pt,[(0,r._)("li",Tt,[(0,r.Wm)(l,{class:"flex items-center w-full",to:"/userInfo"},{default:(0,r.w5)((()=>[(0,r._)("img",{class:"avatar w-[50px] h-[50px]",src:(0,a.SU)(o).avatar,alt:""},null,8,Zt),(0,r._)("span",zt,(0,y.zw)((0,a.SU)(o).name),1)])),_:1})]),(0,r._)("li",Gt,[(0,r.Wm)(l,{class:"flex items-center w-full",to:"/follow"},{default:(0,r.w5)((()=>[(0,r._)("div",Nt,[(0,r.Wm)(Ct)]),Xt])),_:1})]),(0,r._)("li",$t,[(0,r.Wm)(l,{class:"flex items-center w-full",to:"/likes"},{default:(0,r.w5)((()=>[(0,r._)("div",eo,[(0,r.Wm)(Kt)]),to])),_:1})]),(0,r._)("li",oo,[(0,r.Wm)(l,{class:"flex items-center w-full",to:"/chatroomlist"},{default:(0,r.w5)((()=>[(0,r._)("div",lo,[(0,r.Wm)(Qt)]),so])),_:1})])])])}}};const ao=ro;var no=ao;const io={class:"m-4"},co={class:"text-xs px-2"};var uo={props:{message:{type:Object,required:!0,default:()=>{}}},setup(e){const t=e,o=q(),{user:l}=(0,S.Jk)(o),{message:s,sender:n,createdAt:i}=(0,a.BK)(t.message),c=(0,r.Fl)((()=>l?.value._id===n.value)),d=e=>(new Date).getDate()===(new Date).getDate(e),u=e=>{const t=d(e)?"HH:mm":"MM/DD HH:mm";return pe()(e).format(t)};return(e,t)=>((0,r.wg)(),(0,r.iD)("div",io,[(0,r._)("div",{class:(0,y.C_)(["flex items-end",{"flex-row-reverse":(0,a.SU)(c)}])},[(0,r._)("div",{class:(0,y.C_)(["inline-flex max-w-[300px] p-2 m-h-[20px] border-2 rounded-2xl",(0,a.SU)(c)?"bg-slate-300":"bg-slate-200"])},(0,y.zw)((0,a.SU)(s)),3),(0,r._)("span",co,(0,y.zw)(u((0,a.SU)(i))),1)],2)]))}};const po=uo;var mo=po;const go={class:"bg-slate-700 w-full p-2 fixed md:absolute bottom-0 flex justify-between items-center left-0"};var wo={emits:["sendMessage"],setup(e,{emit:t}){const o=(0,a.iH)(null),l=(0,s.pm)(),n=()=>{const e=o.value.innerText;""!==e?e.length>100?l.error("輸入內容長度超過上限"):(t("sendMessage",e),o.value.innerText=""):l.error("請輸入內容再送出訊息")};return(0,r.bv)((()=>{const e=new KeyboardEvent("keyup",{bubbles:!0});o.value.dispatchEvent(e),o.value.addEventListener("keyup",(e=>{"Enter"===e.key&&(n(),console.log("doSomething")),console.log("content",e.target.innerText)}))})),(e,t)=>((0,r.wg)(),(0,r.iD)("div",go,[(0,r._)("div",{class:"bg-white min-h-[32px] max-h-36 flex items-center rounded-2xl w-11/12 break-all px-2 outline-none overflow-hidden",contenteditable:"true",id:"test",role:"textbox",spellcheck:"true",tabindex:"0",ref_key:"inputBox",ref:o},null,512),(0,r.Wm)(Qt,{onClick:n,class:"text-white cursor-pointer"})]))}};const vo=wo;var fo=vo;const ho={class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},bo=(0,r._)("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),xo=(0,r._)("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1),ko=[bo,xo];function yo(e,t){return(0,r.wg)(),(0,r.iD)("svg",ho,ko)}const Uo={},Ao=(0,p.Z)(Uo,[["render",yo]]);var So=Ao;const Co={viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Do=(0,r._)("polyline",{points:"15 18 9 12 15 6"},null,-1),Bo=[Do];function Io(e,t){return(0,r.wg)(),(0,r.iD)("svg",Co,Bo)}const Eo={},jo=(0,p.Z)(Eo,[["render",Io]]);var Vo=jo;const Ko=(e,t)=>{let o=0;return(...l)=>{Date.now()-o>t&&(e.apply(void 0,l),o=Date.now())}},_o=()=>{const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"};var Jo=o(2066);const Fo={class:"md:fixed md:border-2 bottom-0 right-10 w-screen md:w-[338px] overflow-hidden h-screen md:h-[455px] rounded-tl-lg rounded-tr-lg"},Mo={class:"h-14 flex px-2 md:px-4 py-2 bg-white justify-between items-center border-b-2"},Wo={class:"flex items-center"},qo=["src"],Yo={class:"pl-4 font-bold"},Oo={key:0,class:"text-center py-2 text-sm"};var Qo={setup(e){const t=(0,s.pm)(),o=q(),l=Y(),{room:n}=(0,S.Jk)(l),{user:i}=(0,S.Jk)(o),c=(0,b.tv)(),d=(0,a.iH)(null),u=(0,a.iH)(!1),p=(0,a.iH)(!1),m=(0,a.iH)(!1),g=(0,a.iH)(0),w=(0,a.qj)([]),v=localStorage.getItem("token");v||c.push("/");const f=(0,Jo.io)(`${V}/chat`,{query:{token:localStorage.getItem("token"),room:n.value.roomId},forceNew:!0});f.on("connect",(()=>{console.log("connect----"),setTimeout((()=>{x()}),200)})),f.emit("joinRoom",n.value.roomId),f.on("chatMessage",(e=>{console.log("接收到別人傳的訊息",e),w.push(e),Qe.emit("updateChatRecord",{roomId:n.value.roomId,msg:e}),d.value.scrollHeight-d.value.scrollTop>d.value.clientHeight?i.value._id!==e.sender&&(p.value=!0):U()})),f.on("history",(e=>{console.log("接收到歷史訊息",e);const t=[...e,...w];Object.assign(w,t),console.log("messageList",w),e.length<30&&(u.value=!0),m.value?h():(U(),m.value=!0)}));const h=async()=>{await(0,r.Y3)(),d.value.scrollTop=d.value.scrollHeight-g.value};f.on("error",(e=>{t.error(e),c.go("/")}));const x=()=>{if(console.log("getHistory",u.value),u.value)return;const e={lastTime:w[0]?.createdAt};console.warn("emit!!!!!!!!!!!!!!"),console.warn("---",f.connected),f.emit("history",e)},k=e=>{const t={message:e,sender:i.value._id};f.emit("chatMessage",t)},U=async()=>{console.log(r.Y3),await(0,r.Y3)(),p.value=!1,d.value.scrollTop=d.value?.scrollHeight},A=()=>{Qe.emit("handleRoom",!1)},C=()=>{d.value.addEventListener("scroll",(()=>{0===d.value.scrollTop&&(g.value=d.value.scrollHeight,Ko(x,1e3)())}),!1)},D=()=>{c.go(-1)};return(0,r.bv)((()=>{console.warn("mounted",_o()),"desktop"!==_o()&&(document.body.style="overflow: hidden;position:fixed"),C()})),(0,r.Jd)((()=>{console.warn("onBeforeUnmount"),l.updateRoom({}),f.emit("leaveRoom",n.value.roomId),f.off(),f.disconnect(),document.body.style=""})),(e,t)=>((0,r.wg)(),(0,r.iD)("div",Fo,[(0,r._)("div",Mo,[(0,r._)("div",Wo,[(0,r.Wm)(Vo,{onClick:D,class:"block md:hidden w-8 h-8 mr-2"}),(0,r._)("img",{class:"avatar w-10 h-10",src:(0,a.SU)(n).avatar,alt:""},null,8,qo),(0,r._)("span",Yo,(0,y.zw)((0,a.SU)(n).name),1)]),(0,r._)("span",{onClick:A,class:"text-xs text-gray"},"對方正在輸入中..."),(0,r.Wm)(So,{class:"cursor-pointer hidden md:block hover:opacity-50",onClick:A})]),(0,r._)("div",{id:"messageContainer",ref_key:"messageContainer",ref:d,class:"inner relative bg-slate-100 overflow-y-auto"},[0===(0,a.SU)(w).length?((0,r.wg)(),(0,r.iD)("div",Oo," 開始聊天吧！ ")):(0,r.kq)("",!0),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,a.SU)(w),(e=>((0,r.wg)(),(0,r.j4)(mo,{key:e._id,message:e},null,8,["message"])))),128))],512),p.value?((0,r.wg)(),(0,r.iD)("div",{key:0,onClick:U,class:"w-full h-12 absolute bottom-10 left-0 p-2 bg-black bg-opacity-40 text-white"}," 您有新訊息 ")):(0,r.kq)("",!0),(0,r.Wm)(fo,{onSendMessage:k})]))}};const Ho=(0,p.Z)(Qo,[["__scopeId","data-v-7f09995e"]]);var Lo=Ho,Ro={setup(e){const t=(0,a.iH)(!1),o=e=>{t.value=e,console.warn("handleRoom----",e)};return Qe.on("handleRoom",o),(0,r.Jd)((()=>{console.log("onBeforeUnmount!!!"),Qe.off("handleRoom",o)})),(e,o)=>t.value?((0,r.wg)(),(0,r.j4)(Lo,{key:0})):(0,r.kq)("",!0)}};const Po=Ro;var To=Po;const Zo={class:"h-6 w-6",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},zo=(0,r._)("path",{stroke:"none",d:"M0 0h24v24H0z"},null,-1),Go=(0,r.Uk)(),No=(0,r._)("line",{x1:"12",y1:"5",x2:"12",y2:"19"},null,-1),Xo=(0,r.Uk)(),$o=(0,r._)("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1),el=[zo,Go,No,Xo,$o];function tl(e,t){return(0,r.wg)(),(0,r.iD)("svg",Zo,el)}const ol={},ll=(0,p.Z)(ol,[["render",tl]]);var sl=ll;const rl={class:"h-6 w-6",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},al=(0,r._)("path",{stroke:"none",d:"M0 0h24v24H0z"},null,-1),nl=(0,r.Uk)(),il=(0,r._)("polyline",{points:"5 12 3 12 12 3 21 12 19 12"},null,-1),cl=(0,r.Uk)(),dl=(0,r._)("path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"},null,-1),ul=(0,r.Uk)(),pl=(0,r._)("path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6"},null,-1),ml=[al,nl,il,cl,dl,ul,pl];function gl(e,t){return(0,r.wg)(),(0,r.iD)("svg",rl,ml)}const wl={},vl=(0,p.Z)(wl,[["render",gl]]);var fl=vl;const hl={class:"block md:hidden border-2 bg-[#EFECE7] px-6 fixed bottom-4 left-0 right-0 m-auto rounded-[32px] w-11/12 h-[65px]"},bl={class:"flex h-full justify-between items-center"};var xl={setup(e){const t=[{icon:fl,path:"/"},{icon:Ct,path:"/follow"},{icon:Kt,path:"/likes"},{icon:sl,path:"/postadd"},{icon:Qt,path:"/chatroomlist"}];return(e,o)=>{const l=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",hl,[(0,r._)("ul",bl,[((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)(t,((e,t)=>(0,r._)("li",{key:t,class:(0,y.C_)([{"bg-primary text-white":3===t},"border-2 w-12 h-12 bg-white rounded-full flex items-center justify-center"])},[(0,r.Wm)(l,{class:"block",to:e.path},{default:(0,r.w5)((()=>[((0,r.wg)(),(0,r.j4)((0,r.LL)(e.icon)))])),_:2},1032,["to"])],2))),64))])])}}};const kl=xl;var yl=kl;const Ul={class:"flex justify-between md:pt-16 pt-2 px-2 w-full md:w-[869px] m-auto"},Al={class:"w-full md:w-[533px]"},Sl={class:"hidden md:block"};var Cl={setup(e){const t=q();return(0,r.bv)((()=>{t.getUser()})),(e,t)=>{const o=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(wt),(0,r._)("div",Ul,[(0,r._)("section",Al,[(0,r.Wm)(o),(0,r.Wm)((0,a.SU)(yl))]),(0,r._)("aside",Sl,[(0,r.Wm)(no)]),(0,r.Wm)(To)])],64)}}};const Dl=Cl;var Bl=Dl,Il="data:image/png;base64,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";const El={class:"flex"},jl=(0,r._)("img",{class:"w-10 h-10 avatar",src:Il,alt:""},null,-1),Vl=(0,r._)("div",{class:"flex-1 pl-2"},[(0,r._)("p",{class:""},"窩窩"),(0,r._)("p",{class:"text-gray text-sm"},"追蹤時間: 2022/1/10 12:00")],-1),Kl=[jl,Vl];function _l(e,t){return(0,r.wg)(),(0,r.iD)("div",El,Kl)}const Jl={},Fl=(0,p.Z)(Jl,[["render",_l]]);var Ml=Fl;const Wl={class:"box-rounded flex items-baseline p-4 h-[77px] mb-4 justify-between"},ql=(0,r._)("span",null,"您已經追蹤90天!",-1);var Yl={setup(e){return(e,t)=>((0,r.wg)(),(0,r.iD)("li",Wl,[(0,r.Wm)(Ml),ql]))}};const Ol=Yl;var Ql=Ol;const Hl=(0,r._)("h1",{class:"title"},"追蹤名單",-1),Ll={class:"pt-4"};var Rl={setup(e){const t=(0,a.qj)([{id:1,name:"amy",time:"2022/1/10 12:00",days:20},{id:2,name:"mike",time:"2022/1/10 12:00",days:20}]);return(e,o)=>((0,r.wg)(),(0,r.iD)("section",null,[Hl,(0,r._)("ul",Ll,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,a.SU)(t),(e=>((0,r.wg)(),(0,r.j4)(Ql,{key:e.id})))),128))])]))}};const Pl=Rl;var Tl=Pl;const Zl=(0,r._)("h3",{class:""},"輸入新密碼",-1),zl=(0,r._)("h3",{class:""},"再次輸入",-1);var Gl={setup(e){const t=(0,s.pm)(),o=(0,a.qj)({password:"",confirmPassword:""}),l=async()=>{if(o.password===o.confirmPassword)try{const e=await F("/users/update_password",o),{status:l,user:{token:s}}=e;"success"===l&&(localStorage.setItem("token",s),t.success("修改成功"),o.password="",o.confirmPassword="")}catch(A){console.log("error",A)}else t.error("兩次填寫密碼不一致")};return(e,t)=>((0,r.wg)(),(0,r.iD)("div",null,[Zl,(0,r.Wm)(P,{modelValue:(0,a.SU)(o).password,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,a.SU)(o).password=e),modelModifiers:{trim:!0},vaildField:["required","password"],validId:"password",type:"password",placeholder:"Password"},null,8,["modelValue"]),zl,(0,r.Wm)(P,{modelValue:(0,a.SU)(o).confirmPassword,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,a.SU)(o).confirmPassword=e),modelModifiers:{trim:!0},vaildField:["required","password"],validId:"confirmPassword",type:"password",placeholder:"Password"},null,8,["modelValue"]),(0,r._)("button",{onClick:l,class:"button w-[373px] h-[54px] mt-6"}," 重設密碼 ")]))}};const Nl=Gl;var Xl=Nl;const $l=(0,r._)("label",{for:"fileUpload",class:"mt-5 cursor-pointer block w-[128px] h-[32px] leading-7 bg-black text-white text-center"}," 上傳圖片 ",-1);var es={emits:["setFile","setError"],setup(e,{emit:t}){const o=(0,r.f3)("controlLoading"),l={large:"圖片檔案過大，僅限 1mb 以下檔案",fileName:"圖片格式錯誤，僅限 JPG、PNG 圖片"},s=["jpg","jpeg","png"],a=e=>{const o=e.target.files[0];s.includes(o.type)?t("setError",l.fileName):o.size>1048576?t("setError",l.large):n(o)},n=async e=>{const l=new FormData;l.append("image",e),o(!0);try{const e=await W("/upload",l),{imgUrl:o}=e;"success"===e.status&&t("setFile",o)}catch(A){const{status:t,data:o}=A.response;console.log(`error--${t}`,"error",o)}o(!1)};return(e,t)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[$l,(0,r._)("input",{onChange:a,class:"hidden",type:"file",id:"fileUpload"},null,32)],64))}};const ts=es;var os=ts;const ls={class:"flex flex-col items-center"},ss=["src"],rs={class:"pt-2"},as=(0,r._)("h3",{class:""},"暱稱",-1),ns={class:"w-full"},is=(0,r._)("h3",{class:""},"性別",-1),cs={class:"flex items-center"},ds=(0,r._)("label",{class:"pl-2 pr-4",for:"male"},"男性 ",-1),us=(0,r._)("label",{class:"pl-2 pr-4",for:"female"},"女性",-1),ps={key:0,class:"text-red w-full"};var ms={setup(e){const t=C(),o=q(),{validateList:n}=(0,S.Jk)(t),{user:i}=(0,S.Jk)(o),c=(0,s.pm)(),d={name:"",gender:"",avatar:""},u=(0,a.qj)({...d}),p=(0,a.qj)({isShow:!1,errorText:""}),m=e=>{p.isShow=!0,p.errorText=e},g=()=>{p.isShow=!1,p.errorText="",Object.assign(u,d)},w=e=>{console.log("setFile",e),u.avatar=e,v()},v=async()=>{if(0===n.value.length)try{const e=await M("/users/profile",{...u});g();const{status:t,user:l}=e;"success"===t&&o.updateUser(l),c.success("修改成功")}catch(A){console.log("error",A)}else t.updateErrorFlag(!0)};return(0,r.YP)(i,(()=>{u.avatar=i?.value.avatar,u.name=i?.value.name,u.gender=i?.value.gender,setTimeout((()=>{console.log("editContent.gender",u.gender)}),2e3)}),{immediate:!0}),(e,t)=>((0,r.wg)(),(0,r.iD)("div",ls,[(0,r._)("img",{class:"avatar w-[107px] h-[107px]",src:(0,a.SU)(u).avatar,alt:""},null,8,ss),(0,r.Wm)(os,{onSetError:m,onSetFile:w}),(0,r._)("div",rs,[as,(0,r.Wm)(P,{modelValue:(0,a.SU)(u).name,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,a.SU)(u).name=e),modelModifiers:{trim:!0},vaildField:["required","name"],validId:"name"},null,8,["modelValue"])]),(0,r._)("div",ns,[is,(0,r._)("div",cs,[(0,r.wy)((0,r._)("input",{id:"male",value:"male",type:"radio","onUpdate:modelValue":t[1]||(t[1]=e=>(0,a.SU)(u).gender=e)},null,512),[[l.G2,(0,a.SU)(u).gender]]),ds,(0,r.wy)((0,r._)("input",{id:"female",value:"female",type:"radio","onUpdate:modelValue":t[2]||(t[2]=e=>(0,a.SU)(u).gender=e)},null,512),[[l.G2,(0,a.SU)(u).gender]]),us])]),(0,a.SU)(p).isShow?((0,r.wg)(),(0,r.iD)("p",ps,(0,y.zw)((0,a.SU)(p).errorText),1)):(0,r.kq)("",!0),(0,r._)("button",{onClick:v,class:"button bg-yellow text-black w-[373px] h-[54px] mt-6"}," 送出更新 ")]))}};const gs=ms;var ws=gs;const vs=(0,r._)("h1",{class:"title"},"修改個人資料",-1),fs={class:"pt-8"},hs={class:"flex items-center relative left-2"},bs={class:"min-h-[350px] w-full rounded-r-md border-2 px-[80px] py-8"};var xs={setup(e){const t=(0,a.iH)(0),o=e=>{t.value=e};return(e,l)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[vs,(0,r._)("div",fs,[(0,r._)("ul",hs,[(0,r._)("li",{onClick:l[0]||(l[0]=e=>o(0)),class:(0,y.C_)(["bg-white border-2 rounded-t-lg px-5 leading-10 w-28 h-10  border-b-0 cursor-pointer",{"bg-black text-white":0===t.value}])}," 暱稱修改 ",2),(0,r._)("li",{onClick:l[1]||(l[1]=e=>o(1)),class:(0,y.C_)(["bg-white border-2 rounded-t-lg px-5 leading-10 w-28 h-10  border-b-0 cursor-pointer",{"bg-black text-white":1===t.value}])}," 重設密碼 ",2)]),(0,r._)("div",bs,[0===t.value?((0,r.wg)(),(0,r.j4)(ws,{key:0})):((0,r.wg)(),(0,r.j4)(Xl,{key:1}))])])],64))}};const ks=xs;var ys=ks;const Us={class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},As=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Ss=[As];function Cs(e,t){return(0,r.wg)(),(0,r.iD)("svg",Us,Ss)}const Ds={},Bs=(0,p.Z)(Ds,[["render",Cs]]);var Is=Bs;const Es={class:"box-rounded flex items-center p-4 pr-10 justify-between h-[77px]"},js={class:"flex"},Vs={class:"flex flex-col items-center justify-between"},Ks=(0,r.Uk)(" 取消 "),_s={class:"pl-6 flex flex-col items-center justify-between"},Js=(0,r.Uk)(" 查看 ");var Fs={setup(e){return(e,t)=>((0,r.wg)(),(0,r.iD)("li",Es,[(0,r.Wm)(Ml),(0,r._)("div",js,[(0,r._)("div",Vs,[(0,r.Wm)(Kt),Ks]),(0,r._)("div",_s,[(0,r.Wm)(Is),Js])])]))}};const Ms=Fs;var Ws=Ms;const qs=(0,r._)("h1",{class:"title"},"我按讚的貼文",-1),Ys={class:"w-full pt-4"};var Os={setup(e){return(e,t)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[qs,(0,r._)("ul",Ys,[(0,r.Wm)(Ws)])],64))}};const Qs=Os;var Hs=Qs;const Ls=(0,r._)("h1",{class:"title mb-4"},"張貼動態",-1),Rs={class:"box-rounded p-8"},Ps=(0,r._)("h3",{class:"pb-2"},"貼文內容",-1),Ts={key:0,class:"my-4 border-2 rounded-md overflow-hidden w-full h-auto"},Zs=["src"],zs={key:1,class:"text-red w-full"};var Gs={setup(e){const t=(0,b.tv)(),o={content:"",cover:""},s=(0,a.qj)({...o}),n=(0,a.qj)({isShow:!1,errorText:""}),i=async()=>{try{await F("/post",{...s}),c(),t.push("/")}catch(A){console.log("error",A)}},c=()=>{n.isShow=!1,n.errorText="",Object.assign(s,o)},d=e=>{n.isShow=!0,n.errorText=e},u=e=>{console.log("setFile",e),s.cover=e};return(e,t)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[Ls,(0,r._)("div",Rs,[Ps,(0,r.wy)((0,r._)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>(0,a.SU)(s).content=e),class:"border-2 border-black w-full p-2",placeholder:"輸入您的貼文內容",name:"",id:"",cols:"30",rows:"10"},null,512),[[l.nr,(0,a.SU)(s).content]]),(0,r.Wm)(os,{onSetError:d,onSetFile:u}),(0,a.SU)(s).cover?((0,r.wg)(),(0,r.iD)("div",Ts,[(0,r._)("img",{src:(0,a.SU)(s).cover},null,8,Zs)])):(0,r.kq)("",!0),(0,a.SU)(n).isShow?((0,r.wg)(),(0,r.iD)("p",zs,(0,y.zw)((0,a.SU)(n).errorText),1)):(0,r.kq)("",!0),(0,r._)("button",{onClick:i,class:"w-[323px] h-[54px] rounded-md border-2 relative -translate-x-1/2 left-1/2 my-8 mx-auto bg-[#A8B0B9]"}," 送出貼文 ")])],64))}};const Ns=Gs;var Xs=Ns;const $s={class:"flex"},er=["src"],tr={class:"flex-1 pl-2"},or={class:"font-bold"},lr={class:"w-[200px] md:w-80 h-10 whitespace-nowrap overflow-hidden overflow-ellipsis text-sm text-slate-700"},sr={class:"text-gray text-xs"};var rr={props:{room:{type:Object,required:!0,default:()=>{}}},setup(e){const t=e,o=Y(),l=(0,s.pm)(),{room:n}=(0,S.Jk)(o),i=(0,b.tv)(),{name:c,message:d,avatar:u,roomId:p,_id:m}=(0,a.BK)(t.room),g=e=>pe()(e).format("YYYY/MM/DD "),w=()=>document.body.clientWidth<768,v=()=>{console.log("channelId",p.value),n.value.roomId&&n.value.roomId!==p.value?l.error("您一次只能跟一個人聊天"):(o.updateRoom({roomId:p,name:c,avatar:u,receiver:m}),w()?i.push("/chatroom"):Qe.emit("handleRoom",!0))};return(e,t)=>((0,r.wg)(),(0,r.iD)("li",{onClick:v,class:"box-rounded flex items-baseline p-4 h-[77px] mb-4 justify-between cursor-pointer"},[(0,r._)("div",$s,[(0,r._)("img",{class:"w-10 h-10 avatar",src:(0,a.SU)(u),alt:"avatar"},null,8,er),(0,r._)("div",tr,[(0,r._)("p",or,(0,y.zw)((0,a.SU)(c)),1),(0,r._)("p",lr,(0,y.zw)((0,a.SU)(d)?.[0]?.message),1)])]),(0,r._)("span",sr,(0,y.zw)(g((0,a.SU)(d)?.[0]?.createdAt)),1)]))}};const ar=rr;var nr=ar;const ir=(0,r._)("h1",{class:"title"},"聊天室",-1),cr={class:"pt-4"};var dr={setup(e){const t=(0,a.qj)([]),o=({roomId:e,msg:o})=>{const l=t.findIndex((t=>t.roomId===e));l>-1&&(t[l].message=[o])};Qe.on("updateChatRecord",o);const l=async()=>{try{const e=await F("/chat/chat-record"),{status:o,chatRecord:l}=e;"success"===o&&(console.log("res",e),Object.assign(t,l),console.log("chatList",t))}catch(A){console.log("error",A)}};return(0,r.bv)((()=>{l()})),(0,r.Jd)((()=>{Qe.off("updateChatRecord",o)})),(e,o)=>((0,r.wg)(),(0,r.iD)("section",null,[ir,(0,r._)("ul",cr,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,a.SU)(t),(e=>((0,r.wg)(),(0,r.j4)(nr,{key:e._id,room:e},null,8,["room"])))),128))])]))}};const ur=dr;var pr=ur,mr={setup(e){return(e,t)=>((0,r.wg)(),(0,r.j4)((0,a.SU)(Lo)))}};const gr=mr;var wr=gr;const vr=[{path:"/login",name:"login",component:de},{path:"/chatroom",name:"ChatRoom",component:wr},{path:"/",name:"postDefault",component:Bl,children:[{path:"/",name:"postWall",component:at},{path:"/follow",name:"follow",component:Tl},{path:"/userInfo",name:"userInfo",component:ys},{path:"/likes",name:"poseLikeList",component:Hs},{path:"/postadd",name:"PostAdd",component:Xs},{path:"/chatroomlist",name:"ChatRoomList",component:pr}]}],fr=(0,b.p7)({history:(0,b.r5)(),routes:vr});fr.beforeEach(((e,t,o)=>{"/login"!==e.path&&!localStorage.getItem("token")&&o("login"),o()}));var hr=fr,br=o(5417),xr=o(8125),kr=o(8321),yr=o(7749);localStorage.getItem("access_token")||localStorage.setItem("access_token","8915cea189eebd8b970fe31a261c2906342ac025"),xr.vI.add(kr.BC0);const Ur=(0,l.ri)(h);Ur.component("font-awesome-icon",yr.GN);const Ar=(0,S.WB)();Ar.use(br.ZP),Ur.use(hr).use(Ar).use(s.ZP).mount("#app")}},t={};function o(l){var s=t[l];if(void 0!==s)return s.exports;var r=t[l]={exports:{}};return e[l].call(r.exports,r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,l,s,r){if(!l){var a=1/0;for(d=0;d<e.length;d++){l=e[d][0],s=e[d][1],r=e[d][2];for(var n=!0,i=0;i<l.length;i++)(!1&r||a>=r)&&Object.keys(o.O).every((function(e){return o.O[e](l[i])}))?l.splice(i--,1):(n=!1,r<a&&(a=r));if(n){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[l,s,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var l in t)o.o(t,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p=""}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,l){var s,r,a=l[0],n=l[1],i=l[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(s in n)o.o(n,s)&&(o.m[s]=n[s]);if(i)var d=i(o)}for(t&&t(l);c<a.length;c++)r=a[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},l=self["webpackChunkmessage_board"]=self["webpackChunkmessage_board"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=o.O(void 0,[998],(function(){return o(8016)}));l=o.O(l)})();
//# sourceMappingURL=app.d05700d7.js.map